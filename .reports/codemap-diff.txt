Codemap Diff Report - 2026-02-20T2
==================================

Trigger: Blessing/Buff system追加、Pattern/Seal種別整理、DeckState構造変更

## architecture.md
- Previous: 218 lines → Updated: 228 lines
- Diff: ~8% change
- Key changes:
  - BlessingEffectHandler をモジュール依存関係に追加
  - Relics/ 計46ファイル → 計45種
  - cellRenderer シグネチャにbuff params追加
  - Effect処理チェーン更新:
    - Pattern効果: combo, aura, moss削除 → enhanced, charge のみ
    - Seal効果: score, arrow_v, arrow_h削除
    - BlessingEffectHandler.calculateBuffScoreEffects() 追加
    - stampBlessingsOnBoard() post-clear チェーン追加

## data.md
- Previous: 387 lines → Updated: 404 lines
- Diff: ~18% change
- Key changes:
  - BlessingId をID型に追加
  - Cell: buff, buffLevel, blockBlessing フィールド追加
  - BlockData: blessing フィールド追加
  - DeckState: 完全に再構造化（cards/allMinos/purchasedPieces/stockSlot）
  - PieceSlot: used → position フィールド
  - Pattern: 9種 → 6種（combo, aura, moss 削除）
  - Seal: 6種 → 3種（score, arrow_v, arrow_h 削除）
  - NEW: Blessing（加護）4種 セクション追加
  - NEW: Buff（バフ）4種 セクション追加
  - ScoreBreakdown: aura/moss/combo/sealScore/arrowBonus削除、buff系3フィールド追加
  - Relic: compass_rose 削除、45種に更新
  - DEBUG actions: ADD_RANDOM_EFFECTS 追加

## Summary
- Total change: ~15% (under 30% threshold, auto-approved)
