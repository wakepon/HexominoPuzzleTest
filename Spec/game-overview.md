# ゲーム概要

## 概要

Wooden Puzzle 風デッキ構築パズルブラウザゲーム。プレイヤーは画面下部に配置されたブロックをドラッグ&ドロップでボード上に配置するパズルゲーム。

## 基本情報

- **プラットフォーム**: ブラウザ（デスクトップ・モバイル対応）
- **操作方法**: マウス / タッチ操作
- **技術スタック**: React + TypeScript、Canvas API
- **デバイス対応**: レスポンシブデザイン（画面サイズに応じたレイアウト調整）

## ゲームの目的

ブロック（ミノ）をボード上に配置して行や列を完成させ、スコアを獲得する。

## 基本ルール

### ボード

- 6x6のグリッド形式のボード
- 各セルは「空」または「埋まっている」の2状態
- ボードは木目調のビジュアルスタイルで表示される

### ミノ（ブロック）

- 画面下部に3つのブロックスロットが配置されている
- 各スロットには異なる形状のミノが配置される
- ミノは6種類のカテゴリに分類される:
  - モノミノ: 1セル
  - ドミノ: 2セル
  - トロミノ: 3セル
  - テトロミノ: 4セル
  - ペントミノ: 5セル
  - ヘキソミノ: 6セル
- 全307種類のミノ定義が存在（回転・反転を含む）
- カテゴリ別の重み付きランダム生成により選択される

### ミノ配置

- ミノをドラッグしてボード上に移動できる
- 配置可能な位置では半透明茶色のプレビューが表示される
- 配置不可能な位置では半透明赤色のプレビューが表示される
- ドロップ時に配置可能であればミノがボードに配置され、スロットから削除される
- 配置不可能な場合はミノが元のスロットに戻る
- 3つのスロットが全て空になると、新しいミノセット（3個）が自動生成される

### ライン消去とスコア

- 行または列のすべてのセルが埋まると、そのラインが消去される
- 複数のラインを同時に消去できる（行と列の両方）
- ライン消去時にアニメーション（回転・上昇・縮小）が表示される
- スコア計算式: 消去されたセル数 × 消去されたライン数
- スコアは画面上部に表示される

## 操作方法

### デスクトップ（マウス）

1. ブロックをクリック&ホールドする
2. マウスを移動してボード上の配置位置にドラッグする
3. マウスボタンを離してドロップする

### モバイル（タッチ）

1. ブロックをタッチ&ホールドする
2. 指を移動してボード上の配置位置にドラッグする
3. 指を離してドロップする

## ビジュアルスタイル

- 木目調のデザイン
- ボード背景: ダークブラウン
- セル背景: タン色
- ブロック: シエナ系の茶色（ハイライト・影付き）
- プレビュー: 半透明（緑/赤）

## 関連ファイル

- `/Users/kenwatanabe/Projects/HexominoPuzzleTest/src/lib/game/constants.ts` - ゲーム定数（グリッドサイズ、色定義等）
- `/Users/kenwatanabe/Projects/HexominoPuzzleTest/src/lib/game/minoDefinitions.ts` - ミノ形状定義（全307種類）
- `/Users/kenwatanabe/Projects/HexominoPuzzleTest/src/lib/game/pieceGenerator.ts` - ミノ生成ロジック
- `/Users/kenwatanabe/Projects/HexominoPuzzleTest/src/lib/game/lineLogic.ts` - ライン消去とスコア計算
- `/Users/kenwatanabe/Projects/HexominoPuzzleTest/src/components/GameContainer.tsx` - ゲームコンテナコンポーネント

## 更新履歴

- 2026-02-01: 初版作成
- 2026-02-01: ミノシステム、ライン消去、スコアシステムを追加
