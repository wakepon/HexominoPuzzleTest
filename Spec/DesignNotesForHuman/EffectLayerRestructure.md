# エフェクト3層構造のリストラクチャリング

## ステータス: 導入推奨

レリック・パターン・シールの役割分離を明確化し、パターン/シールを精鋭化する方針の検討。

---

## 方針

| 層 | 付与単位 | 役割 | 複雑さ | 希少性 |
|----|---------|------|--------|--------|
| **レリック** | プレイヤー永続 | シナジーの中心。多様な効果 | 高くてOK | ショップで購入 |
| **パターン** | ピース全体 | 戦略の幅を広げる | シンプル | ショップのピースに付与 |
| **シール** | ブロック単体 | 特別感のある希少効果 | シンプル | 低確率でピースに付与 |

---

## リストラ対象

### パターン: 9種 → 7種

| パターン | 判定 | 理由 |
|---------|------|------|
| enhanced ★ | **残留** | 確実な小幅スコア上昇。わかりやすい |
| lucky ♣ | **残留** | ギャンブル的な大幅上昇。感情体験が良い |
| charge ⚡ | **残留** | 長期投資型。配置タイミングの戦略を生む |
| feather F | **残留** | 上書き配置。ユニークな配置系 |
| nohand N | **残留** | 手数節約。デッキ構築との親和性高い |
| obstacle × | **残留** | ボス用制約。ゲーム進行に必要 |
| ice ❄ | **新規追加** | 一時的制約系（obstacleとの差別化） |
| combo C | **削除** | 指数的ボーナスは「シンプル」方針に反する。集める楽しさはレリックで表現可能 |
| aura ◎ | **削除** | 隣接計算が複雑。配置判断の負荷が高い |
| moss M | **削除** | 端接触の効果がわかりにくい。地味 |

### シール: 6種 → 5種

| シール | 判定 | 理由 |
|-------|------|------|
| gold G | **残留** | ゴールド獲得。経済系の基本 |
| multi ×2 | **残留** | 2倍効果。シンプルかつ強力 |
| stone 石 | **残留** | 消去不可。制約系 |
| recycle ♻ | **新規追加** | 再利用系（仕様は後述） |
| void ∅ | **新規追加** | 特殊消去系（仕様は後述） |
| score +5 | **削除** | enhancedパターンと役割重複 |
| arrow_v ↕ | **削除** | 方向ボーナスはレリック(takenoko/kani)がカバー |
| arrow_h ↔ | **削除** | 同上 |

---

## 分析

### 1. 3層分離の設計的意義

**Balatro的設計哲学との類似性:**
- Balatro: ジョーカー（＝レリック）がビルドの中心、プラネット/タロット（＝パターン/シール）は補助
- 本ゲーム: レリックでシナジーを設計し、パターン/シールはその材料を提供

**メリット:**
- プレイヤーの学習曲線が緩やか（パターン/シールは一言で効果がわかる）
- 深みはレリック層に集約（上級者はレリック同士の掛け合わせを追求）
- 分析麻痺を防ぐ（ショップでの判断がシンプルに）

### 2. リストラ後のパターン構成

**役割分布:**
- 配置系（2種）: nohand, feather → 「どう置くか」の幅
- スコア系（3種）: enhanced, lucky, charge → 「どう稼ぐか」の幅
- 制約系（2種）: obstacle, ice → 「どう対処するか」の課題

**スコア系3種の差別化:**
| | enhanced | lucky | charge |
|-|----------|-------|--------|
| リターン | 確実・小 | 不確実・大 | 確実・可変 |
| 時間軸 | 即時 | 即時 | 長期投資 |
| 意思決定 | なし（常に良い） | リスク許容度 | 配置タイミング |

→ 3種とも性格が明確に異なり、共存可能。

### 3. リストラ後のシール構成

**5種で少数精鋭:**
- gold = 経済効果
- multi = スコア倍化
- stone = ネガティブ制約
- recycle = 再利用（新規）
- void = 特殊消去（新規）

→ 各シールの効果方向がすべて異なり、被りがない。

### 4. 削除による影響と緩和策

| 削除要素 | 失われる体験 | 緩和策 |
|---------|------------|--------|
| combo | 集める楽しさ | レリックで「特定パターンN個以上でボーナス」を設計可能 |
| aura | 配置位置の最適化 | charge が「いつ消すか」の判断を提供 |
| moss | ライン点の底上げ | レリック(rensha等)がカバー |
| score | 確実なブロック点上昇 | enhanced パターンが同じ役割 |
| arrow_v/h | 方向を意識した配置 | takenoko/kani レリックが方向ボーナスを提供 |

### 5. 懸念点

1. **iceの仕様**: obstacleとの差別化が重要。「一時的消去不可（N手後に解凍）」が最もシンプルで差別化できる
2. **recycle/voidの仕様**: 「シンプル」「希少」の方針を守れるかが鍵
3. **配置位置を考えさせるメカニクスの減少**: aura削除で「どこに置くか」の判断軸がライン完成のみに。chargeの「いつ消すか」が部分的に代替するが、レリックで補完するとより良い

---

## 判断

### 結論: 導入推奨

**理由:**
1. 3層の役割分離が明確で、プレイヤーの理解コストが低い
2. 複雑なシナジーをレリック層に集約することで、深みと取っつきやすさを両立
3. 削除対象はすべて合理的（重複 or 複雑 or 地味）
4. 失われる体験はレリック層で代替可能
5. パターン7種・シール5種は「覚えられる数」に収まる

### 新規要素の仕様検討が必要

- **ice**: 推奨仕様 = 「配置後N手は消去不可。N手後に解凍されると通常ブロックに」
- **recycle**: 推奨仕様 = 「消去時にそのピースがデッキに戻る」or「消去時に手数+1」
- **void**: 推奨仕様 = 「ライン完成不要で自動消去」or「消去時に周囲のブロックも消去」

これらの仕様はゲームバランスへの影響が大きいため、別途詳細設計が必要。
